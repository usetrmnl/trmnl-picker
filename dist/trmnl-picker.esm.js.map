{
  "version": 3,
  "sources": ["../src/index.js"],
  "sourcesContent": ["/**\n * TRMNLPicker - Vanilla JS library for TRMNL device and palette selection\n *\n * @class TRMNLPicker\n * @param {string} formId - ID of the form element containing picker controls\n * @param {Object} options - Configuration options\n * @param {Array<Object>} options.models - Optional array of model objects from API\n * @param {Array<Object>} options.palettes - Optional array of palette objects\n */\nclass TRMNLPicker {\n  static API_BASE_URL = 'https://usetrmnl.com'\n\n  /**\n   * Create a TRMNLPicker instance, fetching data from TRMNL API if not provided\n   * @static\n   * @param {string} formId - ID of the form element\n   * @param {Object} options - Configuration options\n   * @param {Array<Object>} options.models - Optional models array\n   * @param {Array<Object>} options.palettes - Optional palettes array\n   * @returns {Promise<TRMNLPicker>} Promise resolving to picker instance\n   */\n  static async create(formId, options = {}) {\n    let { models, palettes, localStorageKey } = options\n\n    // Fetch models if not provided\n    if (!models) {\n      try {\n        const response = await fetch(`${TRMNLPicker.API_BASE_URL}/api/models`)\n        if (!response.ok) {\n          throw new Error(`Failed to fetch models: ${response.status} ${response.statusText}`)\n        }\n        const data = await response.json()\n        models = data.data || data\n      } catch (error) {\n        throw new Error(`TRMNLPicker: Failed to fetch models from API: ${error.message}`)\n      }\n    }\n\n    // Fetch palettes if not provided\n    if (!palettes) {\n      try {\n        const response = await fetch(`${TRMNLPicker.API_BASE_URL}/api/palettes`)\n        if (!response.ok) {\n          throw new Error(`Failed to fetch palettes: ${response.status} ${response.statusText}`)\n        }\n        const data = await response.json()\n        palettes = data.data || data\n      } catch (error) {\n        throw new Error(`TRMNLPicker: Failed to fetch palettes from API: ${error.message}`)\n      }\n    }\n\n    return new TRMNLPicker(formId, { models, palettes, localStorageKey })\n  }\n\n  constructor(formId, options = {}) {\n    // Validate inputs\n    if (!formId || typeof formId !== 'string') {\n      throw new Error('TRMNLPicker: formId must be a non-empty string')\n    }\n\n    // Store references\n    this.formElement = document.getElementById(formId)\n    if (!this.formElement) {\n      throw new Error(`TRMNLPicker: Form element with id \"${formId}\" not found`)\n    }\n\n    const { models, palettes, localStorageKey } = options\n\n    this.models = models\n    this.palettes = palettes\n    this.localStorageKey = localStorageKey\n\n    // Initialize state\n    this.state = {\n      selectedModel: null,\n      selectedPalette: null,\n      isPortrait: false,\n      isDarkMode: false\n    }\n\n    // Only initialize if we have data\n    if (this.models && this.palettes) {\n      if (!Array.isArray(this.models) || this.models.length === 0) {\n        throw new Error('TRMNLPicker: models must be a non-empty array')\n      }\n\n      if (!Array.isArray(this.palettes) || this.palettes.length === 0) {\n        throw new Error('TRMNLPicker: palettes must be a non-empty array')\n      }\n\n      // Filter out models where all palettes have empty framework_class\n      this.models = this._filterValidModels()\n\n      if (this.models.length === 0) {\n        throw new Error('TRMNLPicker: no valid models found (all models have palettes with empty framework_class)')\n      }\n\n      // Initialize DOM elements and bind events\n      this._initializeElements()\n      this._bindEvents()\n\n      // Set initial state (will load from localStorage if available)\n      this._setInitialState()\n    }\n  }\n\n  /**\n   * Filter out models where all their palettes have empty framework_class\n   * @private\n   * @returns {Array<Object>} Filtered models array\n   */\n  _filterValidModels() {\n    return this.models.filter(model => {\n      // Check if at least one palette for this model has a non-empty framework_class\n      return model.palette_ids.some(paletteId => {\n        const palette = this.palettes.find(p => p.id === paletteId)\n        return palette && palette.framework_class && palette.framework_class.trim() !== ''\n      })\n    })\n  }\n\n  /**\n   * Get the first valid palette ID for a model (one with non-empty framework_class)\n   * @private\n   * @param {Object} model - Model object\n   * @returns {string|null} First valid palette ID or null\n   */\n  _getFirstValidPaletteId(model) {\n    if (!model) return null\n\n    for (const paletteId of model.palette_ids) {\n      const palette = this.palettes.find(p => p.id === paletteId)\n      if (palette && palette.framework_class && palette.framework_class.trim() !== '') {\n        return paletteId\n      }\n    }\n\n    return null\n  }\n\n  /**\n   * Find and store references to form elements\n   * @private\n   */\n  _initializeElements() {\n    this.elements = {\n      modelSelect: this.formElement.querySelector('#model-select'),\n      paletteSelect: this.formElement.querySelector('#palette-select'),\n      orientationToggle: this.formElement.querySelector('#orientation-toggle'),\n      darkModeToggle: this.formElement.querySelector('#dark-mode-toggle'),\n      resetButton: this.formElement.querySelector('#reset-button'),\n\n      // Optional: UI indicator elements\n      orientationText: this.formElement.querySelector('[data-orientation-text]'),\n      darkModeText: this.formElement.querySelector('[data-dark-mode-text]')\n    }\n\n    // Validate required elements\n    const required = ['modelSelect', 'paletteSelect']\n    for (const key of required) {\n      if (!this.elements[key]) {\n        throw new Error(`TRMNLPicker: Required element \"${key}\" not found in form`)\n      }\n    }\n  }\n\n  /**\n   * Bind event listeners to form elements\n   * @private\n   */\n  _bindEvents() {\n    // Store bound handlers for cleanup\n    this.handlers = {\n      modelChange: this._handleModelChange.bind(this),\n      paletteChange: this._handlePaletteChange.bind(this),\n      orientationToggle: this._toggleOrientation.bind(this),\n      darkModeToggle: this._toggleDarkMode.bind(this),\n      reset: this._resetToDefaults.bind(this)\n    }\n\n    // Attach event listeners\n    this.elements.modelSelect.addEventListener('change', this.handlers.modelChange)\n    this.elements.paletteSelect.addEventListener('change', this.handlers.paletteChange)\n\n    if (this.elements.orientationToggle) {\n      this.elements.orientationToggle.addEventListener('click', this.handlers.orientationToggle)\n    }\n\n    if (this.elements.darkModeToggle) {\n      this.elements.darkModeToggle.addEventListener('click', this.handlers.darkModeToggle)\n    }\n\n    if (this.elements.resetButton) {\n      this.elements.resetButton.addEventListener('click', this.handlers.reset)\n    }\n  }\n\n  /**\n   * Set initial state and populate form\n   * @private\n   */\n  _setInitialState() {\n    // Separate models into TRMNL and BYOD groups\n    const trmnlModels = this.models.filter(m => m.kind === 'trmnl')\n    const byodModels = this.models.filter(m => m.kind !== 'trmnl')\n\n    // Sort each group alphabetically by label\n    const sortTRMNL = [...trmnlModels].sort((a, b) => {\n      const labelA = (a.label || a.name).toLowerCase()\n      const labelB = (b.label || b.name).toLowerCase()\n      return labelA.localeCompare(labelB)\n    })\n\n    const sortBYOD = [...byodModels].sort((a, b) => {\n      const labelA = (a.label || a.name).toLowerCase()\n      const labelB = (b.label || b.name).toLowerCase()\n      return labelA.localeCompare(labelB)\n    })\n\n    // Populate model select with grouped models\n    this.elements.modelSelect.innerHTML = ''\n\n    // Add TRMNL group\n    if (sortTRMNL.length > 0) {\n      const trmnlGroup = document.createElement('optgroup')\n      trmnlGroup.label = 'TRMNL'\n      sortTRMNL.forEach(model => {\n        const option = document.createElement('option')\n        option.value = model.name\n        option.textContent = model.label || model.name\n        trmnlGroup.appendChild(option)\n      })\n      this.elements.modelSelect.appendChild(trmnlGroup)\n    }\n\n    // Add BYOD group\n    if (sortBYOD.length > 0) {\n      const byodGroup = document.createElement('optgroup')\n      byodGroup.label = 'BYOD'\n      sortBYOD.forEach(model => {\n        const option = document.createElement('option')\n        option.value = model.name\n        option.textContent = model.label || model.name\n        byodGroup.appendChild(option)\n      })\n      this.elements.modelSelect.appendChild(byodGroup)\n    }\n\n    // Keep combined sorted list for default selection logic\n    const sortedModels = [...sortTRMNL, ...sortBYOD]\n\n    // Load saved state from localStorage if available\n    const savedState = this._loadFromLocalStorage()\n\n    // Set model (from localStorage or default)\n    let selectedModel = null\n    if (savedState && savedState.modelName) {\n      selectedModel = this.models.find(m => m.name === savedState.modelName)\n    }\n\n    if (!selectedModel) {\n      // Set default model (prefer TRMNL OG variants, otherwise first sorted)\n      selectedModel =\n        sortedModels.find(m => m.name === 'og' || (m.label && m.label.toLowerCase() === 'trmnl og')) ||\n        sortedModels.find(m => m.name === 'og_plus') ||\n        sortedModels.find(m => m.name === 'trmnl_original') ||\n        sortedModels[0]\n    }\n\n    this.elements.modelSelect.value = selectedModel.name\n    this.state.selectedModel = selectedModel\n\n    // Populate palettes based on selected model\n    this._populatePalettes()\n\n    // Set palette (from localStorage or default)\n    let paletteId = null\n    if (savedState && savedState.paletteId) {\n      // Check if saved palette is valid (has framework_class) and is in this model's palettes\n      const savedPalette = this.palettes.find(p => p.id === savedState.paletteId)\n      if (savedPalette &&\n          savedPalette.framework_class &&\n          savedPalette.framework_class.trim() !== '' &&\n          selectedModel.palette_ids.includes(savedState.paletteId)) {\n        paletteId = savedState.paletteId\n      }\n    }\n\n    if (!paletteId) {\n      // Get first valid palette (one with non-empty framework_class)\n      paletteId = this._getFirstValidPaletteId(selectedModel)\n    }\n\n    this.elements.paletteSelect.value = paletteId\n    this.state.selectedPalette = this.palettes.find(p => p.id === paletteId)\n\n    // Set orientation and dark mode from localStorage\n    if (savedState) {\n      if (typeof savedState.isPortrait === 'boolean') {\n        this.state.isPortrait = savedState.isPortrait\n        if (this.elements.orientationText) {\n          this.elements.orientationText.textContent = this.state.isPortrait ? 'Portrait' : 'Landscape'\n        }\n      }\n\n      if (typeof savedState.isDarkMode === 'boolean') {\n        this.state.isDarkMode = savedState.isDarkMode\n        if (this.elements.darkModeText) {\n          this.elements.darkModeText.textContent = this.state.isDarkMode ? 'Dark Mode' : 'Light Mode'\n        }\n      }\n    }\n\n    // Update UI\n    this._updateResetButton()\n\n    // Emit initial changed event so consumers get the initial state\n    this._emitChangeEvent()\n  }\n\n  /**\n   * Populate palette dropdown based on selected model\n   * @private\n   */\n  _populatePalettes() {\n    const modelName = this.elements.modelSelect.value\n    const model = this.models.find(m => m.name === modelName)\n\n    if (!model) return\n\n    // Clear existing options\n    this.elements.paletteSelect.innerHTML = ''\n\n    // Add options for each palette_id in the model (only if framework_class is not empty)\n    model.palette_ids.forEach(paletteId => {\n      const palette = this.palettes.find(p => p.id === paletteId)\n      if (palette && palette.framework_class && palette.framework_class.trim() !== '') {\n        const option = document.createElement('option')\n        option.value = palette.id\n        option.textContent = palette.name\n        this.elements.paletteSelect.appendChild(option)\n      }\n    })\n  }\n\n  /**\n   * Calculate screen classes based on current state\n   * @private\n   * @returns {Array<string>} Array of CSS class names\n   */\n  _calculateScreenClasses() {\n    const model = this.state.selectedModel\n    const palette = this.state.selectedPalette\n\n    if (!model) {\n      throw new Error('No model selected')\n    }\n\n    const classes = []\n\n    // 1. Palette framework class\n    if (palette && palette.framework_class) {\n      classes.push(palette.framework_class)\n    }\n\n    // 2. Model name\n    classes.push(`screen--${model.name}`)\n\n    // 3. Model size\n    if (model.size) {\n      classes.push(`screen--${model.size}`)\n    }\n\n    // 4. Orientation\n    classes.push(`screen--${this.state.isPortrait ? 'portrait' : 'landscape'}`)\n\n    // 5. Scale (always 1x)\n    classes.push('screen--1x')\n\n    // 6. Dark mode (conditional)\n    if (this.state.isDarkMode) {\n      classes.push('screen--dark-mode')\n    }\n\n    return classes\n  }\n\n  /**\n   * Emit 'changed' event with current state and screen classes\n   * @private\n   */\n  _emitChangeEvent() {\n    const model = this.state.selectedModel\n    const palette = this.state.selectedPalette\n\n    // Save to localStorage if key is configured\n    this._saveToLocalStorage()\n\n    const event = new CustomEvent('changed', {\n      detail: {\n        screenClasses: this._calculateScreenClasses(),\n        state: {\n          model: model ? {\n            name: model.name,\n            label: model.label,\n            size: model.size,\n            width: model.width,\n            height: model.height\n          } : null,\n          palette: palette ? {\n            id: palette.id,\n            name: palette.name,\n            framework_class: palette.framework_class\n          } : null,\n          isPortrait: this.state.isPortrait,\n          isDarkMode: this.state.isDarkMode\n        }\n      },\n      bubbles: true\n    })\n\n    this.formElement.dispatchEvent(event)\n  }\n\n  /**\n   * Load state from localStorage\n   * @private\n   * @returns {Object|null} Saved state or null if not available\n   */\n  _loadFromLocalStorage() {\n    if (!this.localStorageKey) return null\n\n    try {\n      const saved = localStorage.getItem(this.localStorageKey)\n      if (saved) {\n        return JSON.parse(saved)\n      }\n    } catch (error) {\n      console.warn('TRMNLPicker: Failed to load from localStorage:', error)\n    }\n\n    return null\n  }\n\n  /**\n   * Save current state to localStorage\n   * @private\n   */\n  _saveToLocalStorage() {\n    if (!this.localStorageKey) return\n\n    try {\n      const stateToSave = {\n        modelName: this.state.selectedModel?.name,\n        paletteId: this.state.selectedPalette?.id,\n        isPortrait: this.state.isPortrait,\n        isDarkMode: this.state.isDarkMode\n      }\n\n      localStorage.setItem(this.localStorageKey, JSON.stringify(stateToSave))\n    } catch (error) {\n      console.warn('TRMNLPicker: Failed to save to localStorage:', error)\n    }\n  }\n\n  /**\n   * Handle model selection change\n   * @private\n   */\n  _handleModelChange(event) {\n    const modelName = event.target.value\n    const model = this.models.find(m => m.name === modelName)\n\n    if (!model) return\n\n    // Update state\n    this.state.selectedModel = model\n\n    // Repopulate palettes for new model\n    this._populatePalettes()\n\n    // Select first valid palette of new model\n    const firstPaletteId = this._getFirstValidPaletteId(model)\n    this.elements.paletteSelect.value = firstPaletteId\n    this.state.selectedPalette = this.palettes.find(p => p.id === firstPaletteId)\n\n    // Update UI\n    this._updateResetButton()\n\n    // Emit change event\n    this._emitChangeEvent()\n  }\n\n  /**\n   * Handle palette selection change\n   * @private\n   */\n  _handlePaletteChange(event) {\n    const paletteId = event.target.value\n    const palette = this.palettes.find(p => p.id === paletteId)\n\n    this.state.selectedPalette = palette\n\n    // Update UI\n    this._updateResetButton()\n\n    // Emit change event\n    this._emitChangeEvent()\n  }\n\n  /**\n   * Toggle orientation between portrait and landscape\n   * @private\n   */\n  _toggleOrientation() {\n    this.state.isPortrait = !this.state.isPortrait\n\n    // Update optional UI elements\n    if (this.elements.orientationText) {\n      this.elements.orientationText.textContent = this.state.isPortrait ? 'Portrait' : 'Landscape'\n    }\n\n    // Update reset button state\n    this._updateResetButton()\n\n    // Emit change event\n    this._emitChangeEvent()\n  }\n\n  /**\n   * Toggle dark mode on/off\n   * @private\n   */\n  _toggleDarkMode() {\n    this.state.isDarkMode = !this.state.isDarkMode\n\n    // Update optional UI elements\n    if (this.elements.darkModeText) {\n      this.elements.darkModeText.textContent = this.state.isDarkMode ? 'Dark Mode' : 'Light Mode'\n    }\n\n    // Update reset button state\n    this._updateResetButton()\n\n    // Emit change event\n    this._emitChangeEvent()\n  }\n\n  /**\n   * Reset to defaults: first valid palette, landscape orientation, light mode\n   * @private\n   */\n  _resetToDefaults() {\n    const model = this.state.selectedModel\n    if (!model) return\n\n    // Reset to first valid palette of current model\n    const firstPaletteId = this._getFirstValidPaletteId(model)\n    this.elements.paletteSelect.value = firstPaletteId\n    this.state.selectedPalette = this.palettes.find(p => p.id === firstPaletteId)\n\n    // Reset to landscape orientation\n    this.state.isPortrait = false\n    if (this.elements.orientationText) {\n      this.elements.orientationText.textContent = 'Landscape'\n    }\n\n    // Reset to light mode\n    this.state.isDarkMode = false\n    if (this.elements.darkModeText) {\n      this.elements.darkModeText.textContent = 'Light Mode'\n    }\n\n    // Update UI\n    this._updateResetButton()\n\n    // Emit change event\n    this._emitChangeEvent()\n  }\n\n  /**\n   * Update reset button enabled/disabled state\n   * Button is disabled only when palette, orientation, and dark mode are all at defaults\n   * @private\n   */\n  _updateResetButton() {\n    if (!this.elements.resetButton) return\n\n    const model = this.state.selectedModel\n    if (!model) return\n\n    const firstValidPaletteId = this._getFirstValidPaletteId(model)\n    const isPaletteDefault = this.elements.paletteSelect.value === String(firstValidPaletteId)\n    const isOrientationDefault = this.state.isPortrait === false\n    const isDarkModeDefault = this.state.isDarkMode === false\n\n    const isAtDefaults = isPaletteDefault && isOrientationDefault && isDarkModeDefault\n\n    this.elements.resetButton.disabled = isAtDefaults\n\n    if (isAtDefaults) {\n      this.elements.resetButton.classList.add('opacity-50', 'cursor-default')\n      this.elements.resetButton.setAttribute('aria-disabled', 'true')\n    } else {\n      this.elements.resetButton.classList.remove('opacity-50', 'cursor-default')\n      this.elements.resetButton.removeAttribute('aria-disabled')\n    }\n  }\n\n  /**\n   * Update picker with new configuration\n   * @public\n   * @param {Object} config - Configuration object\n   * @param {string} config.modelName - Model name to select\n   * @param {string} config.paletteId - Palette ID to select\n   * @param {boolean} config.isPortrait - Portrait orientation\n   * @param {boolean} config.isDarkMode - Dark mode enabled\n   */\n  update(config) {\n    if (!config || typeof config !== 'object') {\n      throw new Error('TRMNLPicker.update: config must be an object')\n    }\n\n    let changed = false\n\n    // Update model if provided\n    if (config.modelName) {\n      const model = this.models.find(m => m.name === config.modelName)\n      if (model) {\n        this.elements.modelSelect.value = model.name\n        this.state.selectedModel = model\n        this._populatePalettes()\n        changed = true\n      }\n    }\n\n    // Update palette if provided\n    if (config.paletteId) {\n      const palette = this.palettes.find(p => p.id === config.paletteId)\n      if (palette) {\n        this.elements.paletteSelect.value = palette.id\n        this.state.selectedPalette = palette\n        changed = true\n      }\n    }\n\n    // Update orientation if provided\n    if (typeof config.isPortrait === 'boolean') {\n      this.state.isPortrait = config.isPortrait\n      if (this.elements.orientationText) {\n        this.elements.orientationText.textContent = this.state.isPortrait ? 'Portrait' : 'Landscape'\n      }\n      changed = true\n    }\n\n    // Update dark mode if provided\n    if (typeof config.isDarkMode === 'boolean') {\n      this.state.isDarkMode = config.isDarkMode\n      if (this.elements.darkModeText) {\n        this.elements.darkModeText.textContent = this.state.isDarkMode ? 'Dark Mode' : 'Light Mode'\n      }\n      changed = true\n    }\n\n    if (changed) {\n      this._updateResetButton()\n      this._emitChangeEvent()\n    }\n  }\n\n  /**\n   * Get current picker state\n   * @public\n   * @returns {Object} Current state including model, palette, flags, and screen classes\n   */\n  getState() {\n    return {\n      model: this.state.selectedModel,\n      palette: this.state.selectedPalette,\n      isPortrait: this.state.isPortrait,\n      isDarkMode: this.state.isDarkMode,\n      screenClasses: this._calculateScreenClasses()\n    }\n  }\n\n  /**\n   * Clean up event listeners and references\n   * @public\n   */\n  destroy() {\n    // Remove event listeners\n    this.elements.modelSelect.removeEventListener('change', this.handlers.modelChange)\n    this.elements.paletteSelect.removeEventListener('change', this.handlers.paletteChange)\n\n    if (this.elements.orientationToggle) {\n      this.elements.orientationToggle.removeEventListener('click', this.handlers.orientationToggle)\n    }\n\n    if (this.elements.darkModeToggle) {\n      this.elements.darkModeToggle.removeEventListener('click', this.handlers.darkModeToggle)\n    }\n\n    if (this.elements.resetButton) {\n      this.elements.resetButton.removeEventListener('click', this.handlers.reset)\n    }\n\n    // Clear references\n    this.formElement = null\n    this.elements = null\n    this.handlers = null\n    this.models = null\n    this.palettes = null\n    this.state = null\n  }\n}\n\nexport default TRMNLPicker\n"],
  "mappings": ";AASA,IAAM,cAAN,MAAM,aAAY;AAAA,EAChB,OAAO,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWtB,aAAa,OAAO,QAAQ,UAAU,CAAC,GAAG;AACxC,QAAI,EAAE,QAAQ,UAAU,gBAAgB,IAAI;AAG5C,QAAI,CAAC,QAAQ;AACX,UAAI;AACF,cAAM,WAAW,MAAM,MAAM,GAAG,aAAY,YAAY,aAAa;AACrE,YAAI,CAAC,SAAS,IAAI;AAChB,gBAAM,IAAI,MAAM,2BAA2B,SAAS,MAAM,IAAI,SAAS,UAAU,EAAE;AAAA,QACrF;AACA,cAAM,OAAO,MAAM,SAAS,KAAK;AACjC,iBAAS,KAAK,QAAQ;AAAA,MACxB,SAAS,OAAO;AACd,cAAM,IAAI,MAAM,iDAAiD,MAAM,OAAO,EAAE;AAAA,MAClF;AAAA,IACF;AAGA,QAAI,CAAC,UAAU;AACb,UAAI;AACF,cAAM,WAAW,MAAM,MAAM,GAAG,aAAY,YAAY,eAAe;AACvE,YAAI,CAAC,SAAS,IAAI;AAChB,gBAAM,IAAI,MAAM,6BAA6B,SAAS,MAAM,IAAI,SAAS,UAAU,EAAE;AAAA,QACvF;AACA,cAAM,OAAO,MAAM,SAAS,KAAK;AACjC,mBAAW,KAAK,QAAQ;AAAA,MAC1B,SAAS,OAAO;AACd,cAAM,IAAI,MAAM,mDAAmD,MAAM,OAAO,EAAE;AAAA,MACpF;AAAA,IACF;AAEA,WAAO,IAAI,aAAY,QAAQ,EAAE,QAAQ,UAAU,gBAAgB,CAAC;AAAA,EACtE;AAAA,EAEA,YAAY,QAAQ,UAAU,CAAC,GAAG;AAEhC,QAAI,CAAC,UAAU,OAAO,WAAW,UAAU;AACzC,YAAM,IAAI,MAAM,gDAAgD;AAAA,IAClE;AAGA,SAAK,cAAc,SAAS,eAAe,MAAM;AACjD,QAAI,CAAC,KAAK,aAAa;AACrB,YAAM,IAAI,MAAM,sCAAsC,MAAM,aAAa;AAAA,IAC3E;AAEA,UAAM,EAAE,QAAQ,UAAU,gBAAgB,IAAI;AAE9C,SAAK,SAAS;AACd,SAAK,WAAW;AAChB,SAAK,kBAAkB;AAGvB,SAAK,QAAQ;AAAA,MACX,eAAe;AAAA,MACf,iBAAiB;AAAA,MACjB,YAAY;AAAA,MACZ,YAAY;AAAA,IACd;AAGA,QAAI,KAAK,UAAU,KAAK,UAAU;AAChC,UAAI,CAAC,MAAM,QAAQ,KAAK,MAAM,KAAK,KAAK,OAAO,WAAW,GAAG;AAC3D,cAAM,IAAI,MAAM,+CAA+C;AAAA,MACjE;AAEA,UAAI,CAAC,MAAM,QAAQ,KAAK,QAAQ,KAAK,KAAK,SAAS,WAAW,GAAG;AAC/D,cAAM,IAAI,MAAM,iDAAiD;AAAA,MACnE;AAGA,WAAK,SAAS,KAAK,mBAAmB;AAEtC,UAAI,KAAK,OAAO,WAAW,GAAG;AAC5B,cAAM,IAAI,MAAM,0FAA0F;AAAA,MAC5G;AAGA,WAAK,oBAAoB;AACzB,WAAK,YAAY;AAGjB,WAAK,iBAAiB;AAAA,IACxB;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,qBAAqB;AACnB,WAAO,KAAK,OAAO,OAAO,WAAS;AAEjC,aAAO,MAAM,YAAY,KAAK,eAAa;AACzC,cAAM,UAAU,KAAK,SAAS,KAAK,OAAK,EAAE,OAAO,SAAS;AAC1D,eAAO,WAAW,QAAQ,mBAAmB,QAAQ,gBAAgB,KAAK,MAAM;AAAA,MAClF,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,wBAAwB,OAAO;AAC7B,QAAI,CAAC;AAAO,aAAO;AAEnB,eAAW,aAAa,MAAM,aAAa;AACzC,YAAM,UAAU,KAAK,SAAS,KAAK,OAAK,EAAE,OAAO,SAAS;AAC1D,UAAI,WAAW,QAAQ,mBAAmB,QAAQ,gBAAgB,KAAK,MAAM,IAAI;AAC/E,eAAO;AAAA,MACT;AAAA,IACF;AAEA,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,sBAAsB;AACpB,SAAK,WAAW;AAAA,MACd,aAAa,KAAK,YAAY,cAAc,eAAe;AAAA,MAC3D,eAAe,KAAK,YAAY,cAAc,iBAAiB;AAAA,MAC/D,mBAAmB,KAAK,YAAY,cAAc,qBAAqB;AAAA,MACvE,gBAAgB,KAAK,YAAY,cAAc,mBAAmB;AAAA,MAClE,aAAa,KAAK,YAAY,cAAc,eAAe;AAAA;AAAA,MAG3D,iBAAiB,KAAK,YAAY,cAAc,yBAAyB;AAAA,MACzE,cAAc,KAAK,YAAY,cAAc,uBAAuB;AAAA,IACtE;AAGA,UAAM,WAAW,CAAC,eAAe,eAAe;AAChD,eAAW,OAAO,UAAU;AAC1B,UAAI,CAAC,KAAK,SAAS,GAAG,GAAG;AACvB,cAAM,IAAI,MAAM,kCAAkC,GAAG,qBAAqB;AAAA,MAC5E;AAAA,IACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,cAAc;AAEZ,SAAK,WAAW;AAAA,MACd,aAAa,KAAK,mBAAmB,KAAK,IAAI;AAAA,MAC9C,eAAe,KAAK,qBAAqB,KAAK,IAAI;AAAA,MAClD,mBAAmB,KAAK,mBAAmB,KAAK,IAAI;AAAA,MACpD,gBAAgB,KAAK,gBAAgB,KAAK,IAAI;AAAA,MAC9C,OAAO,KAAK,iBAAiB,KAAK,IAAI;AAAA,IACxC;AAGA,SAAK,SAAS,YAAY,iBAAiB,UAAU,KAAK,SAAS,WAAW;AAC9E,SAAK,SAAS,cAAc,iBAAiB,UAAU,KAAK,SAAS,aAAa;AAElF,QAAI,KAAK,SAAS,mBAAmB;AACnC,WAAK,SAAS,kBAAkB,iBAAiB,SAAS,KAAK,SAAS,iBAAiB;AAAA,IAC3F;AAEA,QAAI,KAAK,SAAS,gBAAgB;AAChC,WAAK,SAAS,eAAe,iBAAiB,SAAS,KAAK,SAAS,cAAc;AAAA,IACrF;AAEA,QAAI,KAAK,SAAS,aAAa;AAC7B,WAAK,SAAS,YAAY,iBAAiB,SAAS,KAAK,SAAS,KAAK;AAAA,IACzE;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,mBAAmB;AAEjB,UAAM,cAAc,KAAK,OAAO,OAAO,OAAK,EAAE,SAAS,OAAO;AAC9D,UAAM,aAAa,KAAK,OAAO,OAAO,OAAK,EAAE,SAAS,OAAO;AAG7D,UAAM,YAAY,CAAC,GAAG,WAAW,EAAE,KAAK,CAAC,GAAG,MAAM;AAChD,YAAM,UAAU,EAAE,SAAS,EAAE,MAAM,YAAY;AAC/C,YAAM,UAAU,EAAE,SAAS,EAAE,MAAM,YAAY;AAC/C,aAAO,OAAO,cAAc,MAAM;AAAA,IACpC,CAAC;AAED,UAAM,WAAW,CAAC,GAAG,UAAU,EAAE,KAAK,CAAC,GAAG,MAAM;AAC9C,YAAM,UAAU,EAAE,SAAS,EAAE,MAAM,YAAY;AAC/C,YAAM,UAAU,EAAE,SAAS,EAAE,MAAM,YAAY;AAC/C,aAAO,OAAO,cAAc,MAAM;AAAA,IACpC,CAAC;AAGD,SAAK,SAAS,YAAY,YAAY;AAGtC,QAAI,UAAU,SAAS,GAAG;AACxB,YAAM,aAAa,SAAS,cAAc,UAAU;AACpD,iBAAW,QAAQ;AACnB,gBAAU,QAAQ,WAAS;AACzB,cAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,eAAO,QAAQ,MAAM;AACrB,eAAO,cAAc,MAAM,SAAS,MAAM;AAC1C,mBAAW,YAAY,MAAM;AAAA,MAC/B,CAAC;AACD,WAAK,SAAS,YAAY,YAAY,UAAU;AAAA,IAClD;AAGA,QAAI,SAAS,SAAS,GAAG;AACvB,YAAM,YAAY,SAAS,cAAc,UAAU;AACnD,gBAAU,QAAQ;AAClB,eAAS,QAAQ,WAAS;AACxB,cAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,eAAO,QAAQ,MAAM;AACrB,eAAO,cAAc,MAAM,SAAS,MAAM;AAC1C,kBAAU,YAAY,MAAM;AAAA,MAC9B,CAAC;AACD,WAAK,SAAS,YAAY,YAAY,SAAS;AAAA,IACjD;AAGA,UAAM,eAAe,CAAC,GAAG,WAAW,GAAG,QAAQ;AAG/C,UAAM,aAAa,KAAK,sBAAsB;AAG9C,QAAI,gBAAgB;AACpB,QAAI,cAAc,WAAW,WAAW;AACtC,sBAAgB,KAAK,OAAO,KAAK,OAAK,EAAE,SAAS,WAAW,SAAS;AAAA,IACvE;AAEA,QAAI,CAAC,eAAe;AAElB,sBACE,aAAa,KAAK,OAAK,EAAE,SAAS,QAAS,EAAE,SAAS,EAAE,MAAM,YAAY,MAAM,UAAW,KAC3F,aAAa,KAAK,OAAK,EAAE,SAAS,SAAS,KAC3C,aAAa,KAAK,OAAK,EAAE,SAAS,gBAAgB,KAClD,aAAa,CAAC;AAAA,IAClB;AAEA,SAAK,SAAS,YAAY,QAAQ,cAAc;AAChD,SAAK,MAAM,gBAAgB;AAG3B,SAAK,kBAAkB;AAGvB,QAAI,YAAY;AAChB,QAAI,cAAc,WAAW,WAAW;AAEtC,YAAM,eAAe,KAAK,SAAS,KAAK,OAAK,EAAE,OAAO,WAAW,SAAS;AAC1E,UAAI,gBACA,aAAa,mBACb,aAAa,gBAAgB,KAAK,MAAM,MACxC,cAAc,YAAY,SAAS,WAAW,SAAS,GAAG;AAC5D,oBAAY,WAAW;AAAA,MACzB;AAAA,IACF;AAEA,QAAI,CAAC,WAAW;AAEd,kBAAY,KAAK,wBAAwB,aAAa;AAAA,IACxD;AAEA,SAAK,SAAS,cAAc,QAAQ;AACpC,SAAK,MAAM,kBAAkB,KAAK,SAAS,KAAK,OAAK,EAAE,OAAO,SAAS;AAGvE,QAAI,YAAY;AACd,UAAI,OAAO,WAAW,eAAe,WAAW;AAC9C,aAAK,MAAM,aAAa,WAAW;AACnC,YAAI,KAAK,SAAS,iBAAiB;AACjC,eAAK,SAAS,gBAAgB,cAAc,KAAK,MAAM,aAAa,aAAa;AAAA,QACnF;AAAA,MACF;AAEA,UAAI,OAAO,WAAW,eAAe,WAAW;AAC9C,aAAK,MAAM,aAAa,WAAW;AACnC,YAAI,KAAK,SAAS,cAAc;AAC9B,eAAK,SAAS,aAAa,cAAc,KAAK,MAAM,aAAa,cAAc;AAAA,QACjF;AAAA,MACF;AAAA,IACF;AAGA,SAAK,mBAAmB;AAGxB,SAAK,iBAAiB;AAAA,EACxB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,oBAAoB;AAClB,UAAM,YAAY,KAAK,SAAS,YAAY;AAC5C,UAAM,QAAQ,KAAK,OAAO,KAAK,OAAK,EAAE,SAAS,SAAS;AAExD,QAAI,CAAC;AAAO;AAGZ,SAAK,SAAS,cAAc,YAAY;AAGxC,UAAM,YAAY,QAAQ,eAAa;AACrC,YAAM,UAAU,KAAK,SAAS,KAAK,OAAK,EAAE,OAAO,SAAS;AAC1D,UAAI,WAAW,QAAQ,mBAAmB,QAAQ,gBAAgB,KAAK,MAAM,IAAI;AAC/E,cAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,eAAO,QAAQ,QAAQ;AACvB,eAAO,cAAc,QAAQ;AAC7B,aAAK,SAAS,cAAc,YAAY,MAAM;AAAA,MAChD;AAAA,IACF,CAAC;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,0BAA0B;AACxB,UAAM,QAAQ,KAAK,MAAM;AACzB,UAAM,UAAU,KAAK,MAAM;AAE3B,QAAI,CAAC,OAAO;AACV,YAAM,IAAI,MAAM,mBAAmB;AAAA,IACrC;AAEA,UAAM,UAAU,CAAC;AAGjB,QAAI,WAAW,QAAQ,iBAAiB;AACtC,cAAQ,KAAK,QAAQ,eAAe;AAAA,IACtC;AAGA,YAAQ,KAAK,WAAW,MAAM,IAAI,EAAE;AAGpC,QAAI,MAAM,MAAM;AACd,cAAQ,KAAK,WAAW,MAAM,IAAI,EAAE;AAAA,IACtC;AAGA,YAAQ,KAAK,WAAW,KAAK,MAAM,aAAa,aAAa,WAAW,EAAE;AAG1E,YAAQ,KAAK,YAAY;AAGzB,QAAI,KAAK,MAAM,YAAY;AACzB,cAAQ,KAAK,mBAAmB;AAAA,IAClC;AAEA,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,mBAAmB;AACjB,UAAM,QAAQ,KAAK,MAAM;AACzB,UAAM,UAAU,KAAK,MAAM;AAG3B,SAAK,oBAAoB;AAEzB,UAAM,QAAQ,IAAI,YAAY,WAAW;AAAA,MACvC,QAAQ;AAAA,QACN,eAAe,KAAK,wBAAwB;AAAA,QAC5C,OAAO;AAAA,UACL,OAAO,QAAQ;AAAA,YACb,MAAM,MAAM;AAAA,YACZ,OAAO,MAAM;AAAA,YACb,MAAM,MAAM;AAAA,YACZ,OAAO,MAAM;AAAA,YACb,QAAQ,MAAM;AAAA,UAChB,IAAI;AAAA,UACJ,SAAS,UAAU;AAAA,YACjB,IAAI,QAAQ;AAAA,YACZ,MAAM,QAAQ;AAAA,YACd,iBAAiB,QAAQ;AAAA,UAC3B,IAAI;AAAA,UACJ,YAAY,KAAK,MAAM;AAAA,UACvB,YAAY,KAAK,MAAM;AAAA,QACzB;AAAA,MACF;AAAA,MACA,SAAS;AAAA,IACX,CAAC;AAED,SAAK,YAAY,cAAc,KAAK;AAAA,EACtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,wBAAwB;AACtB,QAAI,CAAC,KAAK;AAAiB,aAAO;AAElC,QAAI;AACF,YAAM,QAAQ,aAAa,QAAQ,KAAK,eAAe;AACvD,UAAI,OAAO;AACT,eAAO,KAAK,MAAM,KAAK;AAAA,MACzB;AAAA,IACF,SAAS,OAAO;AACd,cAAQ,KAAK,kDAAkD,KAAK;AAAA,IACtE;AAEA,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,sBAAsB;AACpB,QAAI,CAAC,KAAK;AAAiB;AAE3B,QAAI;AACF,YAAM,cAAc;AAAA,QAClB,WAAW,KAAK,MAAM,eAAe;AAAA,QACrC,WAAW,KAAK,MAAM,iBAAiB;AAAA,QACvC,YAAY,KAAK,MAAM;AAAA,QACvB,YAAY,KAAK,MAAM;AAAA,MACzB;AAEA,mBAAa,QAAQ,KAAK,iBAAiB,KAAK,UAAU,WAAW,CAAC;AAAA,IACxE,SAAS,OAAO;AACd,cAAQ,KAAK,gDAAgD,KAAK;AAAA,IACpE;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,mBAAmB,OAAO;AACxB,UAAM,YAAY,MAAM,OAAO;AAC/B,UAAM,QAAQ,KAAK,OAAO,KAAK,OAAK,EAAE,SAAS,SAAS;AAExD,QAAI,CAAC;AAAO;AAGZ,SAAK,MAAM,gBAAgB;AAG3B,SAAK,kBAAkB;AAGvB,UAAM,iBAAiB,KAAK,wBAAwB,KAAK;AACzD,SAAK,SAAS,cAAc,QAAQ;AACpC,SAAK,MAAM,kBAAkB,KAAK,SAAS,KAAK,OAAK,EAAE,OAAO,cAAc;AAG5E,SAAK,mBAAmB;AAGxB,SAAK,iBAAiB;AAAA,EACxB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,qBAAqB,OAAO;AAC1B,UAAM,YAAY,MAAM,OAAO;AAC/B,UAAM,UAAU,KAAK,SAAS,KAAK,OAAK,EAAE,OAAO,SAAS;AAE1D,SAAK,MAAM,kBAAkB;AAG7B,SAAK,mBAAmB;AAGxB,SAAK,iBAAiB;AAAA,EACxB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,qBAAqB;AACnB,SAAK,MAAM,aAAa,CAAC,KAAK,MAAM;AAGpC,QAAI,KAAK,SAAS,iBAAiB;AACjC,WAAK,SAAS,gBAAgB,cAAc,KAAK,MAAM,aAAa,aAAa;AAAA,IACnF;AAGA,SAAK,mBAAmB;AAGxB,SAAK,iBAAiB;AAAA,EACxB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,kBAAkB;AAChB,SAAK,MAAM,aAAa,CAAC,KAAK,MAAM;AAGpC,QAAI,KAAK,SAAS,cAAc;AAC9B,WAAK,SAAS,aAAa,cAAc,KAAK,MAAM,aAAa,cAAc;AAAA,IACjF;AAGA,SAAK,mBAAmB;AAGxB,SAAK,iBAAiB;AAAA,EACxB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,mBAAmB;AACjB,UAAM,QAAQ,KAAK,MAAM;AACzB,QAAI,CAAC;AAAO;AAGZ,UAAM,iBAAiB,KAAK,wBAAwB,KAAK;AACzD,SAAK,SAAS,cAAc,QAAQ;AACpC,SAAK,MAAM,kBAAkB,KAAK,SAAS,KAAK,OAAK,EAAE,OAAO,cAAc;AAG5E,SAAK,MAAM,aAAa;AACxB,QAAI,KAAK,SAAS,iBAAiB;AACjC,WAAK,SAAS,gBAAgB,cAAc;AAAA,IAC9C;AAGA,SAAK,MAAM,aAAa;AACxB,QAAI,KAAK,SAAS,cAAc;AAC9B,WAAK,SAAS,aAAa,cAAc;AAAA,IAC3C;AAGA,SAAK,mBAAmB;AAGxB,SAAK,iBAAiB;AAAA,EACxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,qBAAqB;AACnB,QAAI,CAAC,KAAK,SAAS;AAAa;AAEhC,UAAM,QAAQ,KAAK,MAAM;AACzB,QAAI,CAAC;AAAO;AAEZ,UAAM,sBAAsB,KAAK,wBAAwB,KAAK;AAC9D,UAAM,mBAAmB,KAAK,SAAS,cAAc,UAAU,OAAO,mBAAmB;AACzF,UAAM,uBAAuB,KAAK,MAAM,eAAe;AACvD,UAAM,oBAAoB,KAAK,MAAM,eAAe;AAEpD,UAAM,eAAe,oBAAoB,wBAAwB;AAEjE,SAAK,SAAS,YAAY,WAAW;AAErC,QAAI,cAAc;AAChB,WAAK,SAAS,YAAY,UAAU,IAAI,cAAc,gBAAgB;AACtE,WAAK,SAAS,YAAY,aAAa,iBAAiB,MAAM;AAAA,IAChE,OAAO;AACL,WAAK,SAAS,YAAY,UAAU,OAAO,cAAc,gBAAgB;AACzE,WAAK,SAAS,YAAY,gBAAgB,eAAe;AAAA,IAC3D;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,OAAO,QAAQ;AACb,QAAI,CAAC,UAAU,OAAO,WAAW,UAAU;AACzC,YAAM,IAAI,MAAM,8CAA8C;AAAA,IAChE;AAEA,QAAI,UAAU;AAGd,QAAI,OAAO,WAAW;AACpB,YAAM,QAAQ,KAAK,OAAO,KAAK,OAAK,EAAE,SAAS,OAAO,SAAS;AAC/D,UAAI,OAAO;AACT,aAAK,SAAS,YAAY,QAAQ,MAAM;AACxC,aAAK,MAAM,gBAAgB;AAC3B,aAAK,kBAAkB;AACvB,kBAAU;AAAA,MACZ;AAAA,IACF;AAGA,QAAI,OAAO,WAAW;AACpB,YAAM,UAAU,KAAK,SAAS,KAAK,OAAK,EAAE,OAAO,OAAO,SAAS;AACjE,UAAI,SAAS;AACX,aAAK,SAAS,cAAc,QAAQ,QAAQ;AAC5C,aAAK,MAAM,kBAAkB;AAC7B,kBAAU;AAAA,MACZ;AAAA,IACF;AAGA,QAAI,OAAO,OAAO,eAAe,WAAW;AAC1C,WAAK,MAAM,aAAa,OAAO;AAC/B,UAAI,KAAK,SAAS,iBAAiB;AACjC,aAAK,SAAS,gBAAgB,cAAc,KAAK,MAAM,aAAa,aAAa;AAAA,MACnF;AACA,gBAAU;AAAA,IACZ;AAGA,QAAI,OAAO,OAAO,eAAe,WAAW;AAC1C,WAAK,MAAM,aAAa,OAAO;AAC/B,UAAI,KAAK,SAAS,cAAc;AAC9B,aAAK,SAAS,aAAa,cAAc,KAAK,MAAM,aAAa,cAAc;AAAA,MACjF;AACA,gBAAU;AAAA,IACZ;AAEA,QAAI,SAAS;AACX,WAAK,mBAAmB;AACxB,WAAK,iBAAiB;AAAA,IACxB;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,WAAW;AACT,WAAO;AAAA,MACL,OAAO,KAAK,MAAM;AAAA,MAClB,SAAS,KAAK,MAAM;AAAA,MACpB,YAAY,KAAK,MAAM;AAAA,MACvB,YAAY,KAAK,MAAM;AAAA,MACvB,eAAe,KAAK,wBAAwB;AAAA,IAC9C;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,UAAU;AAER,SAAK,SAAS,YAAY,oBAAoB,UAAU,KAAK,SAAS,WAAW;AACjF,SAAK,SAAS,cAAc,oBAAoB,UAAU,KAAK,SAAS,aAAa;AAErF,QAAI,KAAK,SAAS,mBAAmB;AACnC,WAAK,SAAS,kBAAkB,oBAAoB,SAAS,KAAK,SAAS,iBAAiB;AAAA,IAC9F;AAEA,QAAI,KAAK,SAAS,gBAAgB;AAChC,WAAK,SAAS,eAAe,oBAAoB,SAAS,KAAK,SAAS,cAAc;AAAA,IACxF;AAEA,QAAI,KAAK,SAAS,aAAa;AAC7B,WAAK,SAAS,YAAY,oBAAoB,SAAS,KAAK,SAAS,KAAK;AAAA,IAC5E;AAGA,SAAK,cAAc;AACnB,SAAK,WAAW;AAChB,SAAK,WAAW;AAChB,SAAK,SAAS;AACd,SAAK,WAAW;AAChB,SAAK,QAAQ;AAAA,EACf;AACF;AAEA,IAAO,cAAQ;",
  "names": []
}
