{
  "version": 3,
  "sources": ["../src/index.js"],
  "sourcesContent": ["/**\n * Default model to select when no localStorage state is found\n * @private\n * @constant {string}\n */\nconst _DEFAULT_MODEL_NAME = 'og_plus'\n\n/**\n * localStorage key for caching API responses (models and palettes)\n * @private\n * @constant {string}\n */\nconst _API_CACHE_KEY = 'trmnl-picker-api-cache'\n\n/**\n * Cache TTL in milliseconds (1 day)\n * @private\n * @constant {number}\n */\nconst _CACHE_TTL_MS = 24 * 60 * 60 * 1000\n\n/**\n * Event fired when picker state changes\n * @event TRMNLPicker#trmnl:change\n * @type {CustomEvent}\n * @property {Object} detail - Event details\n * @property {string} detail.origin - What triggered the change: 'constructor', 'form', or 'setParams'\n * @property {Array<string>} detail.screenClasses - Array of CSS classes for Framework CSS rendering\n * @property {Object} detail.model - Current model object with name, label, width, height, kind, css properties\n * @property {Object} detail.palette - Current palette object with id, name, framework_class properties\n * @property {boolean} detail.isPortrait - Portrait orientation flag\n * @property {boolean} detail.isDarkMode - Dark mode flag\n * @property {number} detail.width - Current width of the screen in pixels\n * @property {number} detail.height - Current height of the screen in pixels\n *\n * @example\n * picker.formElement.addEventListener('trmnl:change', (event) => {\n *   const { origin, screenClasses, model, palette } = event.detail\n *   console.log(`Changed via ${origin}`)\n *   console.log('Classes:', screenClasses)\n * })\n */\n\n/**\n * TRMNLPicker - Vanilla JS library for TRMNL device and palette selection\n *\n * Provides a reactive picker component that manages device models, color palettes,\n * orientation, and display mode. Emits 'trmnl:change' events with current state\n * and CSS classes for rendering.\n * \n * **[View a live demo \u2192](https://usetrmnl.github.io/trmnl-picker/example/)**\n *\n * **Note:** Using the constructor directly is not recommended. Use the static\n * {@link TRMNLPicker.create} method instead, which automatically fetches\n * models and palettes from the TRMNL API if not provided.\n *\n * @class TRMNLPicker\n * @param {string|Element} formIdOrElement - Form element ID or DOM element reference\n * @param {Object} options - Configuration options\n * @param {Array<Object>} options.models - Array of model objects from TRMNL API\n * @param {Array<Object>} options.palettes - Array of palette objects from TRMNL API\n * @param {string} [options.localStorageKey] - Optional key for persisting state to localStorage\n *\n * @fires TRMNLPicker#trmnl:change\n *\n * @example\n * // HTML Structure - Required form with data-* attributes\n * // <form id=\"picker-form\">\n * //   <!-- Required: Model selector -->\n * //   <select data-model-select></select>\n * //\n * //   <!-- Required: Palette selector -->\n * //   <select data-palette-select></select>\n * //\n * //   <!-- Optional: Orientation toggle -->\n * //   <button type=\"button\" data-orientation-toggle>\n * //     <span data-orientation-text>Landscape</span>\n * //   </button>\n * //\n * //   <!-- Optional: Dark mode toggle -->\n * //   <button type=\"button\" data-dark-mode-toggle>\n * //     <span data-dark-mode-text>Light Mode</span>\n * //   </button>\n * //\n * //   <!-- Optional: Reset button -->\n * //   <button type=\"button\" data-reset-button>Reset</button>\n * // </form>\n *\n * // Create with element ID\n * const picker = new TRMNLPicker('picker-form', { models, palettes })\n *\n * // Create with DOM element\n * const element = document.getElementById('picker-form')\n * const picker = new TRMNLPicker(element, { models, palettes })\n *\n * // Listen for changes\n * picker.formElement.addEventListener('trmnl:change', (event) => {\n *   console.log(event.detail.screenClasses)\n * })\n */\nclass TRMNLPicker {\n  static API_BASE_URL = 'https://usetrmnl.com'\n\n  /**\n   * Get cached API response from localStorage\n   * @private\n   * @static\n   * @returns {{models: Array, palettes: Array} | null} Cached data or null if expired/missing\n   */\n  static _getCachedApiData() {\n    try {\n      const cached = localStorage.getItem(_API_CACHE_KEY)\n      if (!cached) return null\n\n      const { timestamp, models, palettes } = JSON.parse(cached)\n      const now = Date.now()\n\n      // Check if cache is still valid\n      if (now - timestamp > _CACHE_TTL_MS) {\n        localStorage.removeItem(_API_CACHE_KEY)\n        return null\n      }\n\n      return { models, palettes }\n    } catch (error) {\n      console.warn('TRMNLPicker: Failed to read API cache:', error)\n      return null\n    }\n  }\n\n  /**\n   * Save API response to localStorage cache\n   * @private\n   * @static\n   * @param {Array} models - Models array\n   * @param {Array} palettes - Palettes array\n   */\n  static _setCachedApiData(models, palettes) {\n    try {\n      const cacheData = {\n        timestamp: Date.now(),\n        models,\n        palettes\n      }\n      localStorage.setItem(_API_CACHE_KEY, JSON.stringify(cacheData))\n    } catch (error) {\n      console.warn('TRMNLPicker: Failed to save API cache:', error)\n    }\n  }\n\n  /**\n   * Create a TRMNLPicker instance, fetching data from TRMNL API if not provided\n   *\n   * Automatically caches API responses in localStorage for 24 hours to reduce network requests.\n   *\n   * @static\n   * @param {string|Element} formIdOrElement - Form element ID or DOM element\n   * @param {Object} options - Configuration options\n   * @param {Array<Object>} [options.models] - Optional models array (fetched from API if not provided)\n   * @param {Array<Object>} [options.palettes] - Optional palettes array (fetched from API if not provided)\n   * @param {string} [options.localStorageKey] - Optional key for state persistence\n   * @returns {Promise<TRMNLPicker>} Promise resolving to picker instance\n   * @throws {Error} If API fetch fails when models or palettes are not provided\n   *\n   * @example\n   * // Fetch models and palettes from API (or use cached data if available)\n   * const picker = await TRMNLPicker.create('screen-picker')\n   *\n   * // Provide your own data\n   * const picker = await TRMNLPicker.create('screen-picker', { models, palettes })\n   */\n  static async create(formId, options = {}) {\n    let { models, palettes, localStorageKey } = options\n\n    // Try to use cached data if neither models nor palettes are provided\n    if (!models && !palettes) {\n      const cached = TRMNLPicker._getCachedApiData()\n      if (cached) {\n        models = cached.models\n        palettes = cached.palettes\n      }\n    }\n\n    // Fetch models if not provided and not in cache\n    if (!models) {\n      try {\n        const response = await fetch(`${TRMNLPicker.API_BASE_URL}/api/models`)\n        if (!response.ok) {\n          throw new Error(`Failed to fetch models: ${response.status} ${response.statusText}`)\n        }\n        const data = await response.json()\n        models = data.data || data\n      } catch (error) {\n        throw new Error(`TRMNLPicker: Failed to fetch models from API: ${error.message}`)\n      }\n    }\n\n    // Fetch palettes if not provided and not in cache\n    if (!palettes) {\n      try {\n        const response = await fetch(`${TRMNLPicker.API_BASE_URL}/api/palettes`)\n        if (!response.ok) {\n          throw new Error(`Failed to fetch palettes: ${response.status} ${response.statusText}`)\n        }\n        const data = await response.json()\n        palettes = data.data || data\n      } catch (error) {\n        throw new Error(`TRMNLPicker: Failed to fetch palettes from API: ${error.message}`)\n      }\n    }\n\n    // Cache the API data for future use (if both were fetched)\n    if (!options.models && !options.palettes) {\n      TRMNLPicker._setCachedApiData(models, palettes)\n    }\n\n    return new TRMNLPicker(formId, { models, palettes, localStorageKey })\n  }\n\n  constructor(formIdOrElement, options = {}) {\n    // Validate inputs\n    if (!formIdOrElement) {\n      throw new Error('TRMNLPicker: formIdOrElement is required')\n    }\n\n    // Store references - accept either string ID or DOM element\n    if (typeof formIdOrElement === 'string') {\n      this.formElement = document.getElementById(formIdOrElement)\n      if (!this.formElement) {\n        throw new Error(`TRMNLPicker: Form element with id \"${formIdOrElement}\" not found`)\n      }\n    } else if (formIdOrElement instanceof Element) {\n      this.formElement = formIdOrElement\n    } else {\n      throw new Error('TRMNLPicker: formIdOrElement must be a string ID or DOM element')\n    }\n\n    const { models, palettes, localStorageKey } = options\n\n    this.models = models\n    this.palettes = palettes\n    this.localStorageKey = localStorageKey\n\n    // Only initialize if we have data\n    if (this.models && this.palettes) {\n      if (!Array.isArray(this.models) || this.models.length === 0) {\n        throw new Error('TRMNLPicker: models must be a non-empty array')\n      }\n\n      if (!Array.isArray(this.palettes) || this.palettes.length === 0) {\n        throw new Error('TRMNLPicker: palettes must be a non-empty array')\n      }\n\n      // Filter out models where all palettes have empty framework_class\n      this.models = this._filterValidModels()\n\n      if (this.models.length === 0) {\n        throw new Error('TRMNLPicker: no valid models found (all models have palettes with empty framework_class)')\n      }\n\n      // Initialize DOM elements and bind events\n      this._initializeElements()\n      this._bindEvents()\n\n      // Set initial state (will load from localStorage if available)\n      this._setInitialState()\n    }\n  }\n\n  /**\n   * Filter out models where all their palettes have empty framework_class\n   * @private\n   * @returns {Array<Object>} Filtered models array\n   */\n  _filterValidModels() {\n    return this.models.filter(model => {\n      // Check if at least one palette for this model has a non-empty framework_class\n      return model.palette_ids.some(paletteId => {\n        const palette = this.palettes.find(p => p.id === paletteId)\n        return palette && palette.framework_class && palette.framework_class.trim() !== ''\n      })\n    })\n  }\n\n  /**\n   * Get the first valid palette ID for a model (one with non-empty framework_class)\n   * @private\n   * @param {Object} model - Model object\n   * @returns {string|null} First valid palette ID or null\n   */\n  _getFirstValidPaletteId(model) {\n    if (!model) return null\n\n    for (const paletteId of model.palette_ids) {\n      const palette = this.palettes.find(p => p.id === paletteId)\n      if (palette && palette.framework_class && palette.framework_class.trim() !== '') {\n        return paletteId\n      }\n    }\n\n    return null\n  }\n\n  /**\n   * Find and store references to form elements using data-* attributes\n   * @private\n   */\n  _initializeElements() {\n    this.elements = {\n      modelSelect: this.formElement.querySelector('[data-model-select]'),\n      paletteSelect: this.formElement.querySelector('[data-palette-select]'),\n      orientationToggle: this.formElement.querySelector('[data-orientation-toggle]'),\n      darkModeToggle: this.formElement.querySelector('[data-dark-mode-toggle]'),\n      resetButton: this.formElement.querySelector('[data-reset-button]'),\n\n      // Optional: UI indicator elements\n      orientationText: this.formElement.querySelector('[data-orientation-text]'),\n      darkModeText: this.formElement.querySelector('[data-dark-mode-text]')\n    }\n\n    // Validate required elements\n    const required = ['modelSelect', 'paletteSelect']\n    for (const key of required) {\n      if (!this.elements[key]) {\n        throw new Error(`TRMNLPicker: Required element \"${key}\" not found in form`)\n      }\n    }\n  }\n\n  /**\n   * Bind event listeners to form elements\n   * @private\n   */\n  _bindEvents() {\n    // Store bound handlers for cleanup\n    this.handlers = {\n      modelChange: this._handleModelChange.bind(this),\n      paletteChange: this._handlePaletteChange.bind(this),\n      orientationToggle: this._toggleOrientation.bind(this),\n      darkModeToggle: this._toggleDarkMode.bind(this),\n      reset: this._resetToModelDefaults.bind(this)\n    }\n\n    // Attach event listeners\n    this.elements.modelSelect.addEventListener('change', this.handlers.modelChange)\n    this.elements.paletteSelect.addEventListener('change', this.handlers.paletteChange)\n\n    if (this.elements.orientationToggle) {\n      this.elements.orientationToggle.addEventListener('click', this.handlers.orientationToggle)\n    }\n\n    if (this.elements.darkModeToggle) {\n      this.elements.darkModeToggle.addEventListener('click', this.handlers.darkModeToggle)\n    }\n\n    if (this.elements.resetButton) {\n      this.elements.resetButton.addEventListener('click', this.handlers.reset)\n    }\n  }\n\n  /**\n   * Set initial state and populate form\n   * @private\n   */\n  _setInitialState() {\n    // Separate models into TRMNL and BYOD groups\n    const trmnlModels = this.models.filter(m => m.kind === 'trmnl')\n    const byodModels = this.models.filter(m => m.kind !== 'trmnl')\n\n    // Sort each group alphabetically by label\n    const sortTRMNL = [...trmnlModels].sort((a, b) => {\n      const labelA = (a.label || a.name).toLowerCase()\n      const labelB = (b.label || b.name).toLowerCase()\n      return labelA.localeCompare(labelB)\n    })\n\n    const sortBYOD = [...byodModels].sort((a, b) => {\n      const labelA = (a.label || a.name).toLowerCase()\n      const labelB = (b.label || b.name).toLowerCase()\n      return labelA.localeCompare(labelB)\n    })\n\n    // Populate model select with grouped models\n    this.elements.modelSelect.innerHTML = ''\n\n    // Add TRMNL group\n    if (sortTRMNL.length > 0) {\n      const trmnlGroup = document.createElement('optgroup')\n      trmnlGroup.label = 'TRMNL'\n      sortTRMNL.forEach(model => {\n        const option = document.createElement('option')\n        option.value = model.name\n        option.textContent = model.label || model.name\n        trmnlGroup.appendChild(option)\n      })\n      this.elements.modelSelect.appendChild(trmnlGroup)\n    }\n\n    // Add BYOD group\n    if (sortBYOD.length > 0) {\n      const byodGroup = document.createElement('optgroup')\n      byodGroup.label = 'BYOD'\n      sortBYOD.forEach(model => {\n        const option = document.createElement('option')\n        option.value = model.name\n        option.textContent = model.label || model.name\n        byodGroup.appendChild(option)\n      })\n      this.elements.modelSelect.appendChild(byodGroup)\n    }\n\n    // Keep combined sorted list for default selection logic\n    const sortedModels = [...sortTRMNL, ...sortBYOD]\n\n    // Initialize state\n    this._state = {}\n\n    const defaultModel = sortedModels.find(m => m.name === _DEFAULT_MODEL_NAME) || sortedModels[0]\n    const defaultPaletteId = this._getFirstValidPaletteId(defaultModel)\n    const defaultParams = {\n      modelName: defaultModel.name,\n      paletteId: defaultPaletteId,\n      isPortrait: false,\n      isDarkMode: false\n    }\n\n    const savedParams = this._loadFromLocalStorage() || {}\n\n    this._setParams('constructor', { ...defaultParams, ...savedParams })\n  }\n\n  /**\n   * Populate palette dropdown based on selected model\n   * @private\n   */\n  _populateModelPalettes() {\n    const modelName = this.elements.modelSelect.value\n    const model = this.models.find(m => m.name === modelName)\n\n    if (!model) return\n\n    // Clear existing options\n    this.elements.paletteSelect.innerHTML = ''\n\n    // Add options for each palette_id in the model (only if framework_class is not empty)\n    model.palette_ids.forEach(paletteId => {\n      const palette = this.palettes.find(p => p.id === paletteId)\n      if (palette && palette.framework_class && palette.framework_class.trim() !== '') {\n        const option = document.createElement('option')\n        option.value = palette.id\n        option.textContent = palette.name\n        this.elements.paletteSelect.appendChild(option)\n      }\n    })\n  }\n\n  /**\n   * Emit 'trmnl:change' event with current state and screen classes\n   * @private\n   * @param {string} origin - Source of the change ('constructor', 'form', 'setParams')\n   * @fires TRMNLPicker#trmnl:change\n   */\n  _emitChangeEvent(origin) {\n    // Save to localStorage if key is configured\n    this._saveToLocalStorage()\n\n    const event = new CustomEvent('trmnl:change', {\n      detail: {\n        origin,\n        ...this.state,\n      },\n      bubbles: true\n    })\n\n    this.formElement.dispatchEvent(event)\n  }\n\n  /**\n   * Load state from localStorage\n   * @private\n   * @returns {Object|null} Saved state or null if not available\n   */\n  _loadFromLocalStorage() {\n    if (!this.localStorageKey) return null\n\n    try {\n      const saved = localStorage.getItem(this.localStorageKey)\n      if (saved) {\n        return JSON.parse(saved)\n      }\n    } catch (error) {\n      console.warn('TRMNLPicker: Failed to load from localStorage:', error)\n    }\n\n    return null\n  }\n\n  /**\n   * Save current state to localStorage\n   * @private\n   */\n  _saveToLocalStorage() {\n    if (!this.localStorageKey) return\n\n    try {\n      localStorage.setItem(this.localStorageKey, JSON.stringify(this.params))\n    } catch (error) {\n      console.warn('TRMNLPicker: Failed to save to localStorage:', error)\n    }\n  }\n\n  /**\n   * Handle model selection change\n   * @private\n   */\n  _handleModelChange(event) {\n    this._setParams('form', { modelName: event.target.value })\n  }\n\n  /**\n   * Handle palette selection change\n   * @private\n   */\n  _handlePaletteChange(event) {\n    this._setParams('form', { paletteId: event.target.value })\n  }\n\n  /**\n   * Toggle orientation between portrait and landscape\n   * @private\n   */\n  _toggleOrientation() {\n    this._setParams('form', { isPortrait: !this._state.isPortrait })\n  }\n\n  /**\n   * Toggle dark mode on/off\n   * @private\n   */\n  _toggleDarkMode() {\n    this._setParams('form', { isDarkMode: !this._state.isDarkMode })\n  }\n\n  /**\n   * Reset to defaults: first valid palette, landscape orientation, light mode\n   * @private\n   */\n  _resetToModelDefaults() {\n    const model = this._state.model\n    if (!model) return\n\n    // Reset to first valid palette of current model\n    const firstPaletteId = this._getFirstValidPaletteId(model)\n\n    this._setParams('form', {\n      paletteId: firstPaletteId,\n      isPortrait: false,\n      isDarkMode: false\n    })\n  }\n\n  /**\n   * Update reset button enabled/disabled state\n   * Button is disabled only when palette, orientation, and dark mode are all at defaults\n   * @private\n   */\n  _updateResetButton() {\n    if (!this.elements.resetButton) return\n\n    const model = this._state.model\n    if (!model) return\n\n    const firstValidPaletteId = this._getFirstValidPaletteId(model)\n    const isPaletteDefault = this.elements.paletteSelect.value === String(firstValidPaletteId)\n    const isOrientationDefault = this._state.isPortrait === false\n    const isDarkModeDefault = this._state.isDarkMode === false\n\n    const isAtDefaults = isPaletteDefault && isOrientationDefault && isDarkModeDefault\n\n    this.elements.resetButton.disabled = isAtDefaults\n\n    if (isAtDefaults) {\n      this.elements.resetButton.classList.add('opacity-50', 'cursor-default')\n      this.elements.resetButton.setAttribute('aria-disabled', 'true')\n    } else {\n      this.elements.resetButton.classList.remove('opacity-50', 'cursor-default')\n      this.elements.resetButton.removeAttribute('aria-disabled')\n    }\n  }\n\n  /**\n   * Get CSS classes for the current picker configuration\n   * @private\n   * @returns {Array<string>} Array of CSS class names for Framework CSS rendering\n   *\n   * Generated classes (in order):\n   * 1. 'screen' - Base class (always present)\n   * 2. palette.framework_class - From selected palette (e.g., 'screen--1bit')\n   * 3. model.css.classes.device - From model API (e.g., 'screen--v2')\n   * 4. model.css.classes.size - From model API (e.g., 'screen--md')\n   * 5. 'screen--portrait' - Only when portrait orientation is enabled\n   * 6. 'screen--1x' - Scale indicator (always 1x)\n   * 7. 'screen--dark-mode' - Only when dark mode is enabled\n   *\n   * @example\n   * const classes = picker.screenClasses\n   * // ['screen', 'screen--1bit', 'screen--v2', 'screen--md', 'screen--1x']\n   */\n  get _screenClasses() {\n    const model = this._state.model\n    const palette = this._state.palette\n\n    if (!model) {\n      throw new Error('No model selected')\n    }\n\n    const classes = []\n\n    // 0. Base screen class (always present)\n    classes.push('screen')\n\n    // 1. Palette framework class\n    if (palette && palette.framework_class) {\n      classes.push(palette.framework_class)\n    }\n\n    // 2. Model device class (from API)\n    if (model.css && model.css.classes && model.css.classes.device) {\n      classes.push(model.css.classes.device)\n    }\n\n    // 3. Model size class (from API)\n    if (model.css && model.css.classes && model.css.classes.size) {\n      classes.push(model.css.classes.size)\n    }\n\n    // 4. Orientation (UI state, only portrait - landscape is default)\n    if (this._state.isPortrait) {\n      classes.push('screen--portrait')\n    }\n\n    // 5. Scale (UI state, always 1x)\n    classes.push('screen--1x')\n\n    // 6. Dark mode (UI state, conditional)\n    if (this._state.isDarkMode) {\n      classes.push('screen--dark-mode')\n    }\n\n    return classes\n  }\n\n  /**\n   * Get current picker parameters (serializable state)\n   * @public\n   * @returns {Object} Current parameters for persistence or API calls\n   * @returns {string} return.modelName - Selected model name\n   * @returns {string} return.paletteId - Selected palette ID\n   * @returns {boolean} return.isPortrait - Portrait orientation flag\n   * @returns {boolean} return.isDarkMode - Dark mode flag\n   *\n   * @example\n   * const params = picker.params\n   * // { modelName: 'og_plus', paletteId: '123', isPortrait: false, isDarkMode: false }\n   *\n   * // Can be used to restore state later\n   * localStorage.setItem('picker-state', JSON.stringify(picker.params))\n   */\n  get params() {\n    return {\n      modelName: this._state.model?.name,\n      paletteId: this._state.palette?.id,\n      isPortrait: this._state.isPortrait,\n      isDarkMode: this._state.isDarkMode\n    }\n  }\n\n  /**\n   * Update picker configuration programmatically\n   * @public\n   * @param {Object} params - Configuration object (all fields optional)\n   * @param {string} [params.modelName] - Model name to select\n   * @param {string} [params.paletteId] - Palette ID to select\n   * @param {boolean} [params.isPortrait] - Portrait orientation\n   * @param {boolean} [params.isDarkMode] - Dark mode enabled\n   * @fires TRMNLPicker#trmnl:change\n   * @throws {Error} If params is not an object\n   *\n   * @example\n   * // Update single parameter\n   * picker.setParams({ isDarkMode: true })\n   *\n   * // Update multiple parameters\n   * picker.setParams({\n   *   modelName: 'og_plus',\n   *   paletteId: '123',\n   *   isPortrait: true\n   * })\n   *\n   * // Note: Changing model resets palette to first valid palette of that model\n   */\n  setParams(params) {\n    this._setParams('setParams', params)\n  }\n\n  /**\n   * Internal method to update picker state with origin tracking\n   * @private\n   * @param {string} origin - Source of change ('constructor', 'form', 'setParams')\n   * @param {Object} params - Parameters to update\n   * @returns {boolean} True if any changes were made\n   */\n  _setParams(origin, params) {\n    if (!params || typeof params !== 'object') {\n      throw new Error('params must be an object')\n    }\n\n    let changed = false\n\n    // Update model if provided\n    if (params.modelName) {\n      const model = this.models.find(m => m.name === params.modelName)\n      if (model) {\n        this.elements.modelSelect.value = model.name\n        this._state.model = model\n        this._populateModelPalettes()\n\n        // Select first valid palette of new model\n        const firstPaletteId = this._getFirstValidPaletteId(model)\n        this.elements.paletteSelect.value = firstPaletteId\n        this._state.palette = this.palettes.find(p => p.id === firstPaletteId)\n        changed = true\n      }\n    }\n\n    // Update palette if provided\n    if (params.paletteId) {\n      const palette = this.palettes.find(p => p.id === params.paletteId)\n      if (palette) {\n        this.elements.paletteSelect.value = palette.id\n        this._state.palette = palette\n        changed = true\n      }\n    }\n\n    // Update orientation if provided\n    if (typeof params.isPortrait === 'boolean') {\n      this._state.isPortrait = params.isPortrait\n      if (this.elements.orientationText) {\n        this.elements.orientationText.textContent = this._state.isPortrait ? 'Portrait' : 'Landscape'\n      }\n      changed = true\n    }\n\n    // Update dark mode if provided\n    if (typeof params.isDarkMode === 'boolean') {\n      this._state.isDarkMode = params.isDarkMode\n      if (this.elements.darkModeText) {\n        this.elements.darkModeText.textContent = this._state.isDarkMode ? 'Dark Mode' : 'Light Mode'\n      }\n      changed = true\n    }\n\n    if (changed) {\n      this._updateResetButton()\n    }\n\n    if (changed && origin) {\n      this._emitChangeEvent(origin)\n    }\n\n    return changed\n  }\n\n  /**\n   * Get complete picker state including full model and palette objects\n   * @public\n   * @returns {{\n   *   model: Object,\n   *   palette: Object,\n   *   isPortrait: boolean,\n   *   isDarkMode: boolean,\n   *   screenClasses: Array<string>,\n   *   width: number,\n   *   height: number\n   * }} State object containing model (full model object from API), palette (full palette object from API), isPortrait flag, and isDarkMode flag\n   *\n   * @example\n   * const state = picker.state\n   * // {\n   * //   model: { name: 'og_plus', label: 'OG+', width: 800, height: 480, ... },\n   * //   palette: { id: '123', name: 'Black', framework_class: 'screen--1bit', ... },\n   * //   isPortrait: false,\n   * //   isDarkMode: false,\n   * //   screenClasses: ['screen', 'screen--1bit', 'screen--v2', 'screen--md', 'screen--1x'],\n   * //   width: 800,\n   * //   height: 480\n   * // }\n   */\n  get state() {\n    return {\n      screenClasses: this._screenClasses,\n      ...this._dimensions,\n      ...this._state,\n    };\n  }\n\n  /**\n   * Get current dimensions (width and height) of the screen in pixels\n   * @private\n   * @returns {{ width: number, height: number }} Object with width and height properties\n   */\n  get _dimensions() {\n    const model = this._state.model\n\n    let width = model.width / model.scale_factor\n    let height = model.height / model.scale_factor\n\n    if (this._state.isPortrait) {\n      [width, height] = [height, width]\n    }\n\n    return { width, height }\n  }\n\n  /**\n   * Clean up event listeners and references\n   * @public\n   */\n  destroy() {\n    // Remove event listeners\n    this.elements.modelSelect.removeEventListener('change', this.handlers.modelChange)\n    this.elements.paletteSelect.removeEventListener('change', this.handlers.paletteChange)\n\n    if (this.elements.orientationToggle) {\n      this.elements.orientationToggle.removeEventListener('click', this.handlers.orientationToggle)\n    }\n\n    if (this.elements.darkModeToggle) {\n      this.elements.darkModeToggle.removeEventListener('click', this.handlers.darkModeToggle)\n    }\n\n    if (this.elements.resetButton) {\n      this.elements.resetButton.removeEventListener('click', this.handlers.reset)\n    }\n\n    // Clear references\n    this.formElement = null\n    this.elements = null\n    this.handlers = null\n    this.models = null\n    this.palettes = null\n    this._state = null\n  }\n}\n\nexport default TRMNLPicker\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAKA,MAAM,sBAAsB;AAO5B,MAAM,iBAAiB;AAOvB,MAAM,gBAAgB,KAAK,KAAK,KAAK;AAiFrC,MAAM,cAAN,MAAM,aAAY;AAAA,IAChB,OAAO,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQtB,OAAO,oBAAoB;AACzB,UAAI;AACF,cAAM,SAAS,aAAa,QAAQ,cAAc;AAClD,YAAI,CAAC;AAAQ,iBAAO;AAEpB,cAAM,EAAE,WAAW,QAAQ,SAAS,IAAI,KAAK,MAAM,MAAM;AACzD,cAAM,MAAM,KAAK,IAAI;AAGrB,YAAI,MAAM,YAAY,eAAe;AACnC,uBAAa,WAAW,cAAc;AACtC,iBAAO;AAAA,QACT;AAEA,eAAO,EAAE,QAAQ,SAAS;AAAA,MAC5B,SAAS,OAAO;AACd,gBAAQ,KAAK,0CAA0C,KAAK;AAC5D,eAAO;AAAA,MACT;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASA,OAAO,kBAAkB,QAAQ,UAAU;AACzC,UAAI;AACF,cAAM,YAAY;AAAA,UAChB,WAAW,KAAK,IAAI;AAAA,UACpB;AAAA,UACA;AAAA,QACF;AACA,qBAAa,QAAQ,gBAAgB,KAAK,UAAU,SAAS,CAAC;AAAA,MAChE,SAAS,OAAO;AACd,gBAAQ,KAAK,0CAA0C,KAAK;AAAA,MAC9D;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAuBA,aAAa,OAAO,QAAQ,UAAU,CAAC,GAAG;AACxC,UAAI,EAAE,QAAQ,UAAU,gBAAgB,IAAI;AAG5C,UAAI,CAAC,UAAU,CAAC,UAAU;AACxB,cAAM,SAAS,aAAY,kBAAkB;AAC7C,YAAI,QAAQ;AACV,mBAAS,OAAO;AAChB,qBAAW,OAAO;AAAA,QACpB;AAAA,MACF;AAGA,UAAI,CAAC,QAAQ;AACX,YAAI;AACF,gBAAM,WAAW,MAAM,MAAM,GAAG,aAAY,YAAY,aAAa;AACrE,cAAI,CAAC,SAAS,IAAI;AAChB,kBAAM,IAAI,MAAM,2BAA2B,SAAS,MAAM,IAAI,SAAS,UAAU,EAAE;AAAA,UACrF;AACA,gBAAM,OAAO,MAAM,SAAS,KAAK;AACjC,mBAAS,KAAK,QAAQ;AAAA,QACxB,SAAS,OAAO;AACd,gBAAM,IAAI,MAAM,iDAAiD,MAAM,OAAO,EAAE;AAAA,QAClF;AAAA,MACF;AAGA,UAAI,CAAC,UAAU;AACb,YAAI;AACF,gBAAM,WAAW,MAAM,MAAM,GAAG,aAAY,YAAY,eAAe;AACvE,cAAI,CAAC,SAAS,IAAI;AAChB,kBAAM,IAAI,MAAM,6BAA6B,SAAS,MAAM,IAAI,SAAS,UAAU,EAAE;AAAA,UACvF;AACA,gBAAM,OAAO,MAAM,SAAS,KAAK;AACjC,qBAAW,KAAK,QAAQ;AAAA,QAC1B,SAAS,OAAO;AACd,gBAAM,IAAI,MAAM,mDAAmD,MAAM,OAAO,EAAE;AAAA,QACpF;AAAA,MACF;AAGA,UAAI,CAAC,QAAQ,UAAU,CAAC,QAAQ,UAAU;AACxC,qBAAY,kBAAkB,QAAQ,QAAQ;AAAA,MAChD;AAEA,aAAO,IAAI,aAAY,QAAQ,EAAE,QAAQ,UAAU,gBAAgB,CAAC;AAAA,IACtE;AAAA,IAEA,YAAY,iBAAiB,UAAU,CAAC,GAAG;AAEzC,UAAI,CAAC,iBAAiB;AACpB,cAAM,IAAI,MAAM,0CAA0C;AAAA,MAC5D;AAGA,UAAI,OAAO,oBAAoB,UAAU;AACvC,aAAK,cAAc,SAAS,eAAe,eAAe;AAC1D,YAAI,CAAC,KAAK,aAAa;AACrB,gBAAM,IAAI,MAAM,sCAAsC,eAAe,aAAa;AAAA,QACpF;AAAA,MACF,WAAW,2BAA2B,SAAS;AAC7C,aAAK,cAAc;AAAA,MACrB,OAAO;AACL,cAAM,IAAI,MAAM,iEAAiE;AAAA,MACnF;AAEA,YAAM,EAAE,QAAQ,UAAU,gBAAgB,IAAI;AAE9C,WAAK,SAAS;AACd,WAAK,WAAW;AAChB,WAAK,kBAAkB;AAGvB,UAAI,KAAK,UAAU,KAAK,UAAU;AAChC,YAAI,CAAC,MAAM,QAAQ,KAAK,MAAM,KAAK,KAAK,OAAO,WAAW,GAAG;AAC3D,gBAAM,IAAI,MAAM,+CAA+C;AAAA,QACjE;AAEA,YAAI,CAAC,MAAM,QAAQ,KAAK,QAAQ,KAAK,KAAK,SAAS,WAAW,GAAG;AAC/D,gBAAM,IAAI,MAAM,iDAAiD;AAAA,QACnE;AAGA,aAAK,SAAS,KAAK,mBAAmB;AAEtC,YAAI,KAAK,OAAO,WAAW,GAAG;AAC5B,gBAAM,IAAI,MAAM,0FAA0F;AAAA,QAC5G;AAGA,aAAK,oBAAoB;AACzB,aAAK,YAAY;AAGjB,aAAK,iBAAiB;AAAA,MACxB;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,qBAAqB;AACnB,aAAO,KAAK,OAAO,OAAO,WAAS;AAEjC,eAAO,MAAM,YAAY,KAAK,eAAa;AACzC,gBAAM,UAAU,KAAK,SAAS,KAAK,OAAK,EAAE,OAAO,SAAS;AAC1D,iBAAO,WAAW,QAAQ,mBAAmB,QAAQ,gBAAgB,KAAK,MAAM;AAAA,QAClF,CAAC;AAAA,MACH,CAAC;AAAA,IACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA,wBAAwB,OAAO;AAC7B,UAAI,CAAC;AAAO,eAAO;AAEnB,iBAAW,aAAa,MAAM,aAAa;AACzC,cAAM,UAAU,KAAK,SAAS,KAAK,OAAK,EAAE,OAAO,SAAS;AAC1D,YAAI,WAAW,QAAQ,mBAAmB,QAAQ,gBAAgB,KAAK,MAAM,IAAI;AAC/E,iBAAO;AAAA,QACT;AAAA,MACF;AAEA,aAAO;AAAA,IACT;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,sBAAsB;AACpB,WAAK,WAAW;AAAA,QACd,aAAa,KAAK,YAAY,cAAc,qBAAqB;AAAA,QACjE,eAAe,KAAK,YAAY,cAAc,uBAAuB;AAAA,QACrE,mBAAmB,KAAK,YAAY,cAAc,2BAA2B;AAAA,QAC7E,gBAAgB,KAAK,YAAY,cAAc,yBAAyB;AAAA,QACxE,aAAa,KAAK,YAAY,cAAc,qBAAqB;AAAA;AAAA,QAGjE,iBAAiB,KAAK,YAAY,cAAc,yBAAyB;AAAA,QACzE,cAAc,KAAK,YAAY,cAAc,uBAAuB;AAAA,MACtE;AAGA,YAAM,WAAW,CAAC,eAAe,eAAe;AAChD,iBAAW,OAAO,UAAU;AAC1B,YAAI,CAAC,KAAK,SAAS,GAAG,GAAG;AACvB,gBAAM,IAAI,MAAM,kCAAkC,GAAG,qBAAqB;AAAA,QAC5E;AAAA,MACF;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,cAAc;AAEZ,WAAK,WAAW;AAAA,QACd,aAAa,KAAK,mBAAmB,KAAK,IAAI;AAAA,QAC9C,eAAe,KAAK,qBAAqB,KAAK,IAAI;AAAA,QAClD,mBAAmB,KAAK,mBAAmB,KAAK,IAAI;AAAA,QACpD,gBAAgB,KAAK,gBAAgB,KAAK,IAAI;AAAA,QAC9C,OAAO,KAAK,sBAAsB,KAAK,IAAI;AAAA,MAC7C;AAGA,WAAK,SAAS,YAAY,iBAAiB,UAAU,KAAK,SAAS,WAAW;AAC9E,WAAK,SAAS,cAAc,iBAAiB,UAAU,KAAK,SAAS,aAAa;AAElF,UAAI,KAAK,SAAS,mBAAmB;AACnC,aAAK,SAAS,kBAAkB,iBAAiB,SAAS,KAAK,SAAS,iBAAiB;AAAA,MAC3F;AAEA,UAAI,KAAK,SAAS,gBAAgB;AAChC,aAAK,SAAS,eAAe,iBAAiB,SAAS,KAAK,SAAS,cAAc;AAAA,MACrF;AAEA,UAAI,KAAK,SAAS,aAAa;AAC7B,aAAK,SAAS,YAAY,iBAAiB,SAAS,KAAK,SAAS,KAAK;AAAA,MACzE;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,mBAAmB;AAEjB,YAAM,cAAc,KAAK,OAAO,OAAO,OAAK,EAAE,SAAS,OAAO;AAC9D,YAAM,aAAa,KAAK,OAAO,OAAO,OAAK,EAAE,SAAS,OAAO;AAG7D,YAAM,YAAY,CAAC,GAAG,WAAW,EAAE,KAAK,CAAC,GAAG,MAAM;AAChD,cAAM,UAAU,EAAE,SAAS,EAAE,MAAM,YAAY;AAC/C,cAAM,UAAU,EAAE,SAAS,EAAE,MAAM,YAAY;AAC/C,eAAO,OAAO,cAAc,MAAM;AAAA,MACpC,CAAC;AAED,YAAM,WAAW,CAAC,GAAG,UAAU,EAAE,KAAK,CAAC,GAAG,MAAM;AAC9C,cAAM,UAAU,EAAE,SAAS,EAAE,MAAM,YAAY;AAC/C,cAAM,UAAU,EAAE,SAAS,EAAE,MAAM,YAAY;AAC/C,eAAO,OAAO,cAAc,MAAM;AAAA,MACpC,CAAC;AAGD,WAAK,SAAS,YAAY,YAAY;AAGtC,UAAI,UAAU,SAAS,GAAG;AACxB,cAAM,aAAa,SAAS,cAAc,UAAU;AACpD,mBAAW,QAAQ;AACnB,kBAAU,QAAQ,WAAS;AACzB,gBAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,iBAAO,QAAQ,MAAM;AACrB,iBAAO,cAAc,MAAM,SAAS,MAAM;AAC1C,qBAAW,YAAY,MAAM;AAAA,QAC/B,CAAC;AACD,aAAK,SAAS,YAAY,YAAY,UAAU;AAAA,MAClD;AAGA,UAAI,SAAS,SAAS,GAAG;AACvB,cAAM,YAAY,SAAS,cAAc,UAAU;AACnD,kBAAU,QAAQ;AAClB,iBAAS,QAAQ,WAAS;AACxB,gBAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,iBAAO,QAAQ,MAAM;AACrB,iBAAO,cAAc,MAAM,SAAS,MAAM;AAC1C,oBAAU,YAAY,MAAM;AAAA,QAC9B,CAAC;AACD,aAAK,SAAS,YAAY,YAAY,SAAS;AAAA,MACjD;AAGA,YAAM,eAAe,CAAC,GAAG,WAAW,GAAG,QAAQ;AAG/C,WAAK,SAAS,CAAC;AAEf,YAAM,eAAe,aAAa,KAAK,OAAK,EAAE,SAAS,mBAAmB,KAAK,aAAa,CAAC;AAC7F,YAAM,mBAAmB,KAAK,wBAAwB,YAAY;AAClE,YAAM,gBAAgB;AAAA,QACpB,WAAW,aAAa;AAAA,QACxB,WAAW;AAAA,QACX,YAAY;AAAA,QACZ,YAAY;AAAA,MACd;AAEA,YAAM,cAAc,KAAK,sBAAsB,KAAK,CAAC;AAErD,WAAK,WAAW,eAAe,EAAE,GAAG,eAAe,GAAG,YAAY,CAAC;AAAA,IACrE;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,yBAAyB;AACvB,YAAM,YAAY,KAAK,SAAS,YAAY;AAC5C,YAAM,QAAQ,KAAK,OAAO,KAAK,OAAK,EAAE,SAAS,SAAS;AAExD,UAAI,CAAC;AAAO;AAGZ,WAAK,SAAS,cAAc,YAAY;AAGxC,YAAM,YAAY,QAAQ,eAAa;AACrC,cAAM,UAAU,KAAK,SAAS,KAAK,OAAK,EAAE,OAAO,SAAS;AAC1D,YAAI,WAAW,QAAQ,mBAAmB,QAAQ,gBAAgB,KAAK,MAAM,IAAI;AAC/E,gBAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,iBAAO,QAAQ,QAAQ;AACvB,iBAAO,cAAc,QAAQ;AAC7B,eAAK,SAAS,cAAc,YAAY,MAAM;AAAA,QAChD;AAAA,MACF,CAAC;AAAA,IACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQA,iBAAiB,QAAQ;AAEvB,WAAK,oBAAoB;AAEzB,YAAM,QAAQ,IAAI,YAAY,gBAAgB;AAAA,QAC5C,QAAQ;AAAA,UACN;AAAA,UACA,GAAG,KAAK;AAAA,QACV;AAAA,QACA,SAAS;AAAA,MACX,CAAC;AAED,WAAK,YAAY,cAAc,KAAK;AAAA,IACtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,wBAAwB;AACtB,UAAI,CAAC,KAAK;AAAiB,eAAO;AAElC,UAAI;AACF,cAAM,QAAQ,aAAa,QAAQ,KAAK,eAAe;AACvD,YAAI,OAAO;AACT,iBAAO,KAAK,MAAM,KAAK;AAAA,QACzB;AAAA,MACF,SAAS,OAAO;AACd,gBAAQ,KAAK,kDAAkD,KAAK;AAAA,MACtE;AAEA,aAAO;AAAA,IACT;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,sBAAsB;AACpB,UAAI,CAAC,KAAK;AAAiB;AAE3B,UAAI;AACF,qBAAa,QAAQ,KAAK,iBAAiB,KAAK,UAAU,KAAK,MAAM,CAAC;AAAA,MACxE,SAAS,OAAO;AACd,gBAAQ,KAAK,gDAAgD,KAAK;AAAA,MACpE;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,mBAAmB,OAAO;AACxB,WAAK,WAAW,QAAQ,EAAE,WAAW,MAAM,OAAO,MAAM,CAAC;AAAA,IAC3D;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,qBAAqB,OAAO;AAC1B,WAAK,WAAW,QAAQ,EAAE,WAAW,MAAM,OAAO,MAAM,CAAC;AAAA,IAC3D;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,qBAAqB;AACnB,WAAK,WAAW,QAAQ,EAAE,YAAY,CAAC,KAAK,OAAO,WAAW,CAAC;AAAA,IACjE;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,kBAAkB;AAChB,WAAK,WAAW,QAAQ,EAAE,YAAY,CAAC,KAAK,OAAO,WAAW,CAAC;AAAA,IACjE;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,wBAAwB;AACtB,YAAM,QAAQ,KAAK,OAAO;AAC1B,UAAI,CAAC;AAAO;AAGZ,YAAM,iBAAiB,KAAK,wBAAwB,KAAK;AAEzD,WAAK,WAAW,QAAQ;AAAA,QACtB,WAAW;AAAA,QACX,YAAY;AAAA,QACZ,YAAY;AAAA,MACd,CAAC;AAAA,IACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,qBAAqB;AACnB,UAAI,CAAC,KAAK,SAAS;AAAa;AAEhC,YAAM,QAAQ,KAAK,OAAO;AAC1B,UAAI,CAAC;AAAO;AAEZ,YAAM,sBAAsB,KAAK,wBAAwB,KAAK;AAC9D,YAAM,mBAAmB,KAAK,SAAS,cAAc,UAAU,OAAO,mBAAmB;AACzF,YAAM,uBAAuB,KAAK,OAAO,eAAe;AACxD,YAAM,oBAAoB,KAAK,OAAO,eAAe;AAErD,YAAM,eAAe,oBAAoB,wBAAwB;AAEjE,WAAK,SAAS,YAAY,WAAW;AAErC,UAAI,cAAc;AAChB,aAAK,SAAS,YAAY,UAAU,IAAI,cAAc,gBAAgB;AACtE,aAAK,SAAS,YAAY,aAAa,iBAAiB,MAAM;AAAA,MAChE,OAAO;AACL,aAAK,SAAS,YAAY,UAAU,OAAO,cAAc,gBAAgB;AACzE,aAAK,SAAS,YAAY,gBAAgB,eAAe;AAAA,MAC3D;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAoBA,IAAI,iBAAiB;AACnB,YAAM,QAAQ,KAAK,OAAO;AAC1B,YAAM,UAAU,KAAK,OAAO;AAE5B,UAAI,CAAC,OAAO;AACV,cAAM,IAAI,MAAM,mBAAmB;AAAA,MACrC;AAEA,YAAM,UAAU,CAAC;AAGjB,cAAQ,KAAK,QAAQ;AAGrB,UAAI,WAAW,QAAQ,iBAAiB;AACtC,gBAAQ,KAAK,QAAQ,eAAe;AAAA,MACtC;AAGA,UAAI,MAAM,OAAO,MAAM,IAAI,WAAW,MAAM,IAAI,QAAQ,QAAQ;AAC9D,gBAAQ,KAAK,MAAM,IAAI,QAAQ,MAAM;AAAA,MACvC;AAGA,UAAI,MAAM,OAAO,MAAM,IAAI,WAAW,MAAM,IAAI,QAAQ,MAAM;AAC5D,gBAAQ,KAAK,MAAM,IAAI,QAAQ,IAAI;AAAA,MACrC;AAGA,UAAI,KAAK,OAAO,YAAY;AAC1B,gBAAQ,KAAK,kBAAkB;AAAA,MACjC;AAGA,cAAQ,KAAK,YAAY;AAGzB,UAAI,KAAK,OAAO,YAAY;AAC1B,gBAAQ,KAAK,mBAAmB;AAAA,MAClC;AAEA,aAAO;AAAA,IACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAkBA,IAAI,SAAS;AACX,aAAO;AAAA,QACL,WAAW,KAAK,OAAO,OAAO;AAAA,QAC9B,WAAW,KAAK,OAAO,SAAS;AAAA,QAChC,YAAY,KAAK,OAAO;AAAA,QACxB,YAAY,KAAK,OAAO;AAAA,MAC1B;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA0BA,UAAU,QAAQ;AAChB,WAAK,WAAW,aAAa,MAAM;AAAA,IACrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASA,WAAW,QAAQ,QAAQ;AACzB,UAAI,CAAC,UAAU,OAAO,WAAW,UAAU;AACzC,cAAM,IAAI,MAAM,0BAA0B;AAAA,MAC5C;AAEA,UAAI,UAAU;AAGd,UAAI,OAAO,WAAW;AACpB,cAAM,QAAQ,KAAK,OAAO,KAAK,OAAK,EAAE,SAAS,OAAO,SAAS;AAC/D,YAAI,OAAO;AACT,eAAK,SAAS,YAAY,QAAQ,MAAM;AACxC,eAAK,OAAO,QAAQ;AACpB,eAAK,uBAAuB;AAG5B,gBAAM,iBAAiB,KAAK,wBAAwB,KAAK;AACzD,eAAK,SAAS,cAAc,QAAQ;AACpC,eAAK,OAAO,UAAU,KAAK,SAAS,KAAK,OAAK,EAAE,OAAO,cAAc;AACrE,oBAAU;AAAA,QACZ;AAAA,MACF;AAGA,UAAI,OAAO,WAAW;AACpB,cAAM,UAAU,KAAK,SAAS,KAAK,OAAK,EAAE,OAAO,OAAO,SAAS;AACjE,YAAI,SAAS;AACX,eAAK,SAAS,cAAc,QAAQ,QAAQ;AAC5C,eAAK,OAAO,UAAU;AACtB,oBAAU;AAAA,QACZ;AAAA,MACF;AAGA,UAAI,OAAO,OAAO,eAAe,WAAW;AAC1C,aAAK,OAAO,aAAa,OAAO;AAChC,YAAI,KAAK,SAAS,iBAAiB;AACjC,eAAK,SAAS,gBAAgB,cAAc,KAAK,OAAO,aAAa,aAAa;AAAA,QACpF;AACA,kBAAU;AAAA,MACZ;AAGA,UAAI,OAAO,OAAO,eAAe,WAAW;AAC1C,aAAK,OAAO,aAAa,OAAO;AAChC,YAAI,KAAK,SAAS,cAAc;AAC9B,eAAK,SAAS,aAAa,cAAc,KAAK,OAAO,aAAa,cAAc;AAAA,QAClF;AACA,kBAAU;AAAA,MACZ;AAEA,UAAI,SAAS;AACX,aAAK,mBAAmB;AAAA,MAC1B;AAEA,UAAI,WAAW,QAAQ;AACrB,aAAK,iBAAiB,MAAM;AAAA,MAC9B;AAEA,aAAO;AAAA,IACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA2BA,IAAI,QAAQ;AACV,aAAO;AAAA,QACL,eAAe,KAAK;AAAA,QACpB,GAAG,KAAK;AAAA,QACR,GAAG,KAAK;AAAA,MACV;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOA,IAAI,cAAc;AAChB,YAAM,QAAQ,KAAK,OAAO;AAE1B,UAAI,QAAQ,MAAM,QAAQ,MAAM;AAChC,UAAI,SAAS,MAAM,SAAS,MAAM;AAElC,UAAI,KAAK,OAAO,YAAY;AAC1B,SAAC,OAAO,MAAM,IAAI,CAAC,QAAQ,KAAK;AAAA,MAClC;AAEA,aAAO,EAAE,OAAO,OAAO;AAAA,IACzB;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,UAAU;AAER,WAAK,SAAS,YAAY,oBAAoB,UAAU,KAAK,SAAS,WAAW;AACjF,WAAK,SAAS,cAAc,oBAAoB,UAAU,KAAK,SAAS,aAAa;AAErF,UAAI,KAAK,SAAS,mBAAmB;AACnC,aAAK,SAAS,kBAAkB,oBAAoB,SAAS,KAAK,SAAS,iBAAiB;AAAA,MAC9F;AAEA,UAAI,KAAK,SAAS,gBAAgB;AAChC,aAAK,SAAS,eAAe,oBAAoB,SAAS,KAAK,SAAS,cAAc;AAAA,MACxF;AAEA,UAAI,KAAK,SAAS,aAAa;AAC7B,aAAK,SAAS,YAAY,oBAAoB,SAAS,KAAK,SAAS,KAAK;AAAA,MAC5E;AAGA,WAAK,cAAc;AACnB,WAAK,WAAW;AAChB,WAAK,WAAW;AAChB,WAAK,SAAS;AACd,WAAK,WAAW;AAChB,WAAK,SAAS;AAAA,IAChB;AAAA,EACF;AAEA,MAAO,cAAQ;",
  "names": []
}
